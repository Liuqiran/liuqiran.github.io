{{ $books := site.Data.books.list }}

<style>
/* 添加一个外层容器来控制最大宽度 */
.table-outer-container {
  max-width: 850px; /* 设置一个合适的最大宽度 */
  margin: 0 auto;
  position: relative;
}

/* 滚动提示阴影 */
.table-scroll-container {
  overflow-x: auto;
  background:
    linear-gradient(to right, #f2f0e6 30%, rgba(242, 240, 230, 0)),
    linear-gradient(to right, rgba(242, 240, 230, 0), #f2f0e6 70%) 100% 0,
    radial-gradient(farthest-side at 0 50%, rgba(0,0,0,0.2), rgba(0,0,0,0)),
    radial-gradient(farthest-side at 100% 50%, rgba(0,0,0,0.2), rgba(0,0,0,0)) 100% 0;
  background-repeat: no-repeat;
  background-color: #f2f0e6;
  background-size: 40px 100%, 40px 100%, 14px 100%, 14px 100%;
  background-attachment: local, local, scroll, scroll;
}

/* 羊皮纸效果和表格样式 */
.reading-table-container {
  padding: 2rem;
  background: #f2f0e6;
  border-radius: 8px;
  box-shadow: 
    0 2px 4px rgba(0,0,0,0.1),
    0 8px 16px rgba(0,0,0,0.1);
  background-image: 
    linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,0.03) 1px, transparent 1px);
  background-size: 20px 20px;
  position: relative;
  border: 1px solid #e0ded5;
  min-width: 800px; /* 设置最小宽度确保内容不会挤压 */
}
/* 装饰性边框 */
.reading-table-container::before {
  content: "";
  position: absolute;
  top: 5px;
  left: 5px;
  right: 5px;
  bottom: 5px;
  border: 2px solid #e0ded5;
  border-radius: 6px;
  pointer-events: none;
}

table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size: 0.95rem;
}

th {
  background: rgba(0, 0, 0, 0.04); /* 更淡的标题背景 */
  padding: 12px;
  text-align: left;
  border-bottom: 2px solid rgba(0, 0, 0, 0.08);
  color: #4a4a4a; /* 更深的灰色文字 */
}

th:first-child {
  border-top-left-radius: 6px;
}

th:last-child {
  border-top-right-radius: 6px;
}

td {
  padding: 12px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  color: #565656;
}

tr:hover {
  background: rgba(255,255,255,0.5);
}

.rating-cell {
  white-space: nowrap;
  letter-spacing: 1px;
  font-size: 0.9rem;
}

.star {
  display: inline-block;
  width: 1.2em;
  text-align: center;
}

/* 装饰性角落 - 更精美的设计 */
.corner {
  position: absolute;
  width: 24px;
  height: 24px;
  pointer-events: none;
}

.corner::before,
.corner::after {
  content: '';
  position: absolute;
  width: 24px;
  height: 24px;
  border: 2px solid #c8c6bd;
  border-radius: 50%;
}

.corner::after {
  width: 16px;
  height: 16px;
  top: 4px;
  left: 4px;
  border-color: #d5d3c9;
}

/* 角落装饰件的花纹 */
.corner-decoration {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #e0ded5;
  top: 8px;
  left: 8px;
}

.corner-top-left {
  top: -12px;
  left: -12px;
}

.corner-top-right {
  top: -12px;
  right: -12px;
  transform: rotate(90deg);
}

.corner-bottom-left {
  bottom: -12px;
  left: -12px;
  transform: rotate(-90deg);
}

.corner-bottom-right {
  bottom: -12px;
  right: -12px;
  transform: rotate(180deg);
}

/* 添加装饰性线条 */
.corner::before {
  background: 
    radial-gradient(circle at center, #c8c6bd 2px, transparent 2px),
    radial-gradient(circle at 30% 30%, #c8c6bd 2px, transparent 2px),
    radial-gradient(circle at 70% 70%, #c8c6bd 2px, transparent 2px);
}
</style>

<div class="table-outer-container">
  <div class="table-scroll-container">
    <div class="reading-table-container">
      <div class="corner corner-top-left"><div class="corner-decoration"></div></div>
      <div class="corner corner-top-right"><div class="corner-decoration"></div></div>
      <div class="corner corner-bottom-left"><div class="corner-decoration"></div></div>
      <div class="corner corner-bottom-right"><div class="corner-decoration"></div></div>
      <table>
        <thead>
          <tr>
            <th>No.</th>
            <th>Title</th>
            <th>Author</th>
            <th>Date of completion</th>
            <th>Rating</th>
          </tr>
        </thead>
        <tbody>
          {{ range $books }}
            <tr>
              <td>{{ .No }}</td>
              <td>{{ .Title }}</td>
              <td>{{ if .Author }}{{ .Author }}{{ else }}Unknown{{ end }}</td>
              <td>{{ .Date }}</td>
              <td class="rating-cell">
                {{- $rating := .Rating -}}
                {{- range seq 1 5 -}}
                  <span class="star">{{- if le . $rating -}}⭐{{- else -}}☆{{- end -}}</span>
                {{- end -}}
              </td>
            </tr>
          {{ end }}
        </tbody>
      </table>
    </div>
  </div>
</div>

